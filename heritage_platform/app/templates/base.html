<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <title>{% block title %}体育非遗数字展示平台{% endblock %}</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Animate.css 动画库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- 自定义CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    {% block styles %}{% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="{{ url_for('main.index') }}">
                <i class="fas fa-dragon me-2"></i>
                <span>体育非遗数字平台</span>
            </a>

            <!-- 移动端顶部搜索框 -->
            <form class="d-lg-none flex-grow-1 mx-2" action="{{ url_for('content.list') }}" method="GET"> <!-- flex-grow-1 让其填充空间, mx-2 增加左右边距 -->
                <div class="input-group input-group-sm"> <!-- 使用小尺寸输入组 -->
                    <input class="form-control" type="search" name="q" placeholder="搜索非遗内容文章" aria-label="Search">
                    <button class="btn btn-outline-secondary" type="submit"><i class="fas fa-search"></i></button>
                </div>
            </form>

            <!-- 移动端顶部右侧图标区域 -->
            <div class="d-lg-none d-flex align-items-center ms-auto order-lg-1"> <!-- order-lg-1 确保在桌面端不影响布局 -->
                {% if current_user.is_authenticated %}
                <!-- 通知图标 (仅移动端顶部) -->
                <a class="nav-link position-relative px-2" href="{{ url_for('notification.list_notifications') }}" title="通知中心"> <!-- 调整内边距 -->
                    <i class="fas fa-bell fs-5 text-warning"></i>
                    <span id="mobile-notification-badge" class="badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle" style="display: none; font-size: 0.6em; padding: 0.2em 0.4em;"></span>
                </a>
                <!-- 私信图标 (仅移动端顶部) -->
                <a class="nav-link position-relative px-2" href="{{ url_for('message.message_list') }}" title="私信消息"> <!-- 调整内边距 -->
                    <i class="fas fa-envelope fs-5 text-info"></i>
                    <span id="mobile-message-badge" class="badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle" style="display: none; font-size: 0.6em; padding: 0.2em 0.4em;"></span>
                </a>
                {% endif %}
            </div>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- 主导航链接 (桌面端) -->
                <ul class="navbar-nav me-auto">
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link {% if request.path == url_for('main.index') %}active{% endif %}" href="{{ url_for('main.index') }}">
                            <i class="fas fa-home me-1"></i>首页
                        </a>
                    </li>
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link {% if request.path.startswith('/heritage') %}active{% endif %}" href="{{ url_for('heritage.list') }}">
                            <i class="fas fa-landmark me-1"></i>非遗项目
                        </a>
                    </li>
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link {% if request.path.startswith('/content') %}active{% endif %}" href="{{ url_for('content.list') }}">
                            <i class="fas fa-book-open me-1"></i>内容专区
                        </a>
                    </li>
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link {% if request.path.startswith('/forum') %}active{% endif %}" href="{{ url_for('forum.index') }}">
                            <i class="fas fa-comments me-1"></i>交流论坛
                        </a>
                    </li>
                     <li class="nav-item d-none d-lg-block"> <!-- 关于我们 (桌面端) -->
                        <a class="nav-link {% if request.path == url_for('main.about') %}active{% endif %}" href="{{ url_for('main.about') }}">
                            <i class="fas fa-info-circle me-1"></i>关于我们
                        </a>
                    </li>
                </ul>

                <!-- 搜索框 (仅桌面) -->
                <form class="search-form d-none d-lg-flex me-3" action="{{ url_for('content.list') }}" method="GET">
                    <input class="form-control" type="search" name="q" placeholder="搜索非遗内容文章" aria-label="Search">
                    <button class="btn btn-sm btn-primary" type="submit"><i class="fas fa-search"></i></button>
                </form>

                <!-- 用户区域 -->
                <ul class="navbar-nav align-items-center"> <!-- 使用 ul 统一结构 -->
                    {% if current_user.is_authenticated %}
                        <!-- 通知图标 (仅桌面端) -->
                        <li class="nav-item d-none d-lg-block order-lg-1"> <!-- 添加 d-none d-lg-block -->
                            <a class="nav-link position-relative mx-lg-2" href="{{ url_for('notification.list_notifications') }}" title="通知中心">
                                <i class="fas fa-bell fs-5 text-warning"></i>
                                <span id="notification-badge" class="badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle" style="display: none; font-size: 0.6em; padding: 0.2em 0.4em;"></span>
                            </a>
                        </li>
                        <!-- 私信图标 (仅桌面端) -->
                         <li class="nav-item d-none d-lg-block order-lg-2"> <!-- 添加 d-none d-lg-block -->
                            <a class="nav-link position-relative me-lg-3 mx-lg-0 mx-2" href="{{ url_for('message.message_list') }}" title="私信消息">
                                <i class="fas fa-envelope fs-5 text-info"></i>
                                <span id="message-badge" class="badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle" style="display: none; font-size: 0.6em; padding: 0.2em 0.4em;"></span>
                            </a>
                        </li>

                        <!-- 桌面端用户下拉菜单 -->
                        <li class="nav-item dropdown d-none d-lg-block order-lg-3">
                            <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="navbarDropdownDesktop" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                {% if current_user.avatar %}
                                <img src="{{ current_user.avatar }}" alt="{{ current_user.username }}" class="avatar-sm me-2">
                                {% else %}
                                <img src="{{ url_for('static', filename='img/default-avatar.jpg') }}" alt="{{ current_user.username }}" class="avatar-sm me-2">
                                {% endif %}
                                <span>{{ current_user.username }}</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="navbarDropdownDesktop">
                                <li><a class="dropdown-item d-flex align-items-center" href="{{ url_for('user.profile') }}"><i class="fas fa-user me-2 text-primary"></i>个人中心</a></li>
                                <li><a class="dropdown-item d-flex align-items-center" href="{{ url_for('user.my_contents') }}"><i class="fas fa-file-alt me-2 text-primary"></i>我的内容</a></li>
                                <li><a class="dropdown-item d-flex align-items-center" href="{{ url_for('user.my_favorites') }}"><i class="fas fa-heart me-2 text-primary"></i>我的收藏</a></li>
                                {% if current_user.is_admin %}
                                <li><a class="dropdown-item d-flex align-items-center" href="{{ url_for('user.dashboard') }}"><i class="fas fa-tachometer-alt me-2 text-danger"></i>管理后台</a></li>
                                {% endif %}
                                {% if current_user.is_teacher or current_user.is_admin %}
                                <li><a class="dropdown-item d-flex align-items-center" href="{{ url_for('heritage.create') }}"><i class="fas fa-plus-circle me-2 text-success"></i>创建非遗项目</a></li>
                                {% endif %}
                                <li><a class="dropdown-item d-flex align-items-center" href="{{ url_for('content.create') }}"><i class="fas fa-edit me-2 text-info"></i>发布内容</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item d-flex align-items-center text-danger" href="{{ url_for('auth.logout') }}"><i class="fas fa-sign-out-alt me-2"></i>退出登录</a></li>
                            </ul>
                        </li>

                        <!-- 移动端用户菜单项 (直接显示在展开的菜单中) -->
                        <li class="nav-item d-lg-none w-100 order-4"> <hr class="dropdown-divider"> </li> <!-- 分割线 -->
                        <li class="nav-item d-lg-none w-100 order-5"> <!-- 头像和用户名 (非链接) -->
                             <div class="d-flex align-items-center ps-3 mb-2 nav-link"> <!-- 使用 nav-link 保持对齐 -->
                                 {% if current_user.avatar %}
                                 <img src="{{ current_user.avatar }}" alt="{{ current_user.username }}" class="avatar-sm me-2">
                                 {% else %}
                                 <img src="{{ url_for('static', filename='img/default-avatar.jpg') }}" alt="{{ current_user.username }}" class="avatar-sm me-2">
                                 {% endif %}
                                 <span class="fw-bold">{{ current_user.username }}</span>
                             </div>
                        </li>
                         <li class="nav-item d-lg-none order-6"> <a class="nav-link" href="{{ url_for('user.profile') }}"><i class="fas fa-user me-2 text-primary"></i>个人中心</a> </li>
                         <li class="nav-item d-lg-none order-7"> <a class="nav-link" href="{{ url_for('user.my_contents') }}"><i class="fas fa-file-alt me-2 text-primary"></i>我的内容</a> </li>
                         <li class="nav-item d-lg-none order-8"> <a class="nav-link" href="{{ url_for('user.my_favorites') }}"><i class="fas fa-heart me-2 text-primary"></i>我的收藏</a> </li>
                         {% if current_user.is_admin %}
                         <li class="nav-item d-lg-none order-9"> <a class="nav-link" href="{{ url_for('user.dashboard') }}"><i class="fas fa-tachometer-alt me-2 text-danger"></i>管理后台</a> </li>
                         {% endif %}
                         {% if current_user.is_teacher or current_user.is_admin %}
                         <li class="nav-item d-lg-none order-10"> <a class="nav-link" href="{{ url_for('heritage.create') }}"><i class="fas fa-plus-circle me-2 text-success"></i>创建非遗项目</a> </li>
                         {% endif %}
                         <li class="nav-item d-lg-none order-11"> <a class="nav-link" href="{{ url_for('content.create') }}"><i class="fas fa-edit me-2 text-info"></i>发布内容</a> </li>
                         <li class="nav-item d-lg-none w-100 order-12"> <hr class="dropdown-divider"> </li>
                         <li class="nav-item d-lg-none order-13"> <a class="nav-link text-danger" href="{{ url_for('auth.logout') }}"><i class="fas fa-sign-out-alt me-2"></i>退出登录</a> </li>

                    {% else %}
                        <!-- 未登录状态按钮 -->
                         <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary me-2" href="{{ url_for('auth.login') }}">
                                <i class="fas fa-sign-in-alt me-1"></i>登录
                            </a>
                         </li>
                         <li class="nav-item">
                            <a class="nav-link btn btn-primary" href="{{ url_for('auth.register') }}">
                                <i class="fas fa-user-plus me-1"></i>注册
                            </a>
                         </li>
                    {% endif %}
                     <!-- 关于我们链接 (移动端显示在用户菜单后) -->
                     <li class="nav-item d-lg-none w-100 order-14"> <hr class="dropdown-divider"> </li>
                     <li class="nav-item d-lg-none order-15">
                         <a class="nav-link {% if request.path == url_for('main.about') %}active{% endif %}" href="{{ url_for('main.about') }}">
                             <i class="fas fa-info-circle me-1"></i>关于我们
                         </a>
                     </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 消息提示 -->
    <div class="container mt-3">
        {% for category, message in get_flashed_messages(with_categories=true) %}
        <div class="alert alert-{{ category }} alert-dismissible fade show animate__animated animate__fadeIn">
            {% if category == 'success' %}
                <i class="fas fa-check-circle me-2"></i>
            {% elif category == 'danger' or category == 'error' %}
                <i class="fas fa-exclamation-triangle me-2"></i>
            {% elif category == 'warning' %}
                <i class="fas fa-exclamation-circle me-2"></i>
            {% elif category == 'info' %}
                <i class="fas fa-info-circle me-2"></i>
            {% endif %}
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
        {% endfor %}
    </div>

    <!-- 主内容区 -->
    <main class="container my-4 fade-in">
        {% block content %}{% endblock %}
    </main>

    <!-- 页脚 -->
    <footer>
        <div class="container py-4">
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <h5><i class="fas fa-dragon me-2"></i>体育非遗数字展示平台</h5>
                    <p class="mt-3">连接课堂学习与数字化分享，促进体育非遗文化的传播与保护。我们致力于让每一个珍贵的非物质文化遗产得以永续传承。</p>
                </div>
                
                <div class="col-lg-3 col-md-6">
                    <h5>快速链接</h5>
                    <ul class="list-unstyled mt-3">
                        <li class="mb-2">
                            <a href="{{ url_for('main.index') }}"><i class="fas fa-angle-right me-2"></i>首页</a>
                        </li>
                        <li class="mb-2">
                            <a href="{{ url_for('heritage.list') }}"><i class="fas fa-angle-right me-2"></i>非遗项目</a>
                        </li>
                        <li class="mb-2">
                            <a href="{{ url_for('content.list') }}"><i class="fas fa-angle-right me-2"></i>内容专区</a>
                        </li>
                        <li class="mb-2">
                            <a href="{{ url_for('forum.index') }}"><i class="fas fa-angle-right me-2"></i>交流论坛</a>
                        </li>
                        <li class="mb-2">
                            <a href="{{ url_for('main.about') }}"><i class="fas fa-angle-right me-2"></i>关于我们</a>
                        </li>
                    </ul>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <h5>用户中心</h5>
                    <ul class="list-unstyled mt-3">
                        <li class="mb-2">
                            <a href="{{ url_for('auth.login') }}"><i class="fas fa-angle-right me-2"></i>登录</a>
                        </li>
                        <li class="mb-2">
                            <a href="{{ url_for('auth.register') }}"><i class="fas fa-angle-right me-2"></i>注册</a>
                        </li>
                        {% if current_user.is_authenticated %}
                        <li class="mb-2">
                            <a href="{{ url_for('user.profile') }}"><i class="fas fa-angle-right me-2"></i>个人中心</a>
                        </li>
                        <li class="mb-2">
                            <a href="{{ url_for('user.my_contents') }}"><i class="fas fa-angle-right me-2"></i>我的内容</a>
                        </li>
                        {% endif %}
                    </ul>
                </div>
                
                <div class="col-lg-3 col-md-6">
                    <h5>联系我们</h5>
                    <ul class="list-unstyled mt-3">
                        <li class="mb-3 d-flex">
                            <i class="fas fa-map-marker-alt fa-fw me-2 mt-1"></i>
                            <span>汕尾华师大</span>
                        </li>
                        <li class="mb-3 d-flex">
                            <i class="fas fa-envelope fa-fw me-2 mt-1"></i>
                            <span>202481313601.m.scnu</span>
                        </li>
                        <li class="mb-3 d-flex">
                            <i class="fas fa-phone fa-fw me-2 mt-1"></i>
                            <span>15627697219</span>
                        </li>
                        <li class="mb-3 d-flex">
                            <i class="fas fa-clock fa-fw me-2 mt-1"></i>
                            <span>没有固定时间</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <p class="mb-0">&copy; 2025 体育非遗数字展示平台 | 由 <a href="#">contan</a> 开发</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <p class="mb-0">
                            <a href="{{ url_for('main.privacy_policy') }}">隐私政策</a> | 
                            <a href="{{ url_for('main.terms_of_service') }}">使用条款</a> | 
                            <a href="{{ url_for('main.technical_doc') }}">技术文档</a> | 
                            <a href="{{ url_for('main.sitemap') }}">网站地图</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- 返回顶部按钮 -->
    <button id="back-to-top" class="btn btn-primary rounded-circle position-fixed" style="bottom: 30px; right: 30px; width: 50px; height: 50px; display: none;">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 自定义JS -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    
    {% if current_user.is_authenticated %}
    <script>
        // 检查未读通知和私信
        function checkUnreadNotifications() {
            // 检查未读通知
            fetch('/api/notifications/unread-count')
                .then(response => response.json())
                .then(data => {
                    // 更新桌面端角标
                    const desktopNotificationBadge = document.getElementById('notification-badge');
                    if (desktopNotificationBadge) {
                        if (data.count > 0) {
                            desktopNotificationBadge.textContent = data.count;
                            desktopNotificationBadge.style.display = 'inline';
                        } else {
                            desktopNotificationBadge.style.display = 'none';
                        }
                    }
                    // 更新移动端角标
                    const mobileNotificationBadge = document.getElementById('mobile-notification-badge');
                    if (mobileNotificationBadge) {
                         if (data.count > 0) {
                            mobileNotificationBadge.textContent = data.count;
                            mobileNotificationBadge.style.display = 'inline';
                        } else {
                            mobileNotificationBadge.style.display = 'none';
                        }
                    }
                })
                .catch(error => console.error('Error fetching notification count:', error));
                
            // 检查未读私信
            fetch('/api/messages/unread-count')
                .then(response => response.json())
                .then(data => {
                    // 更新桌面端角标
                    const desktopMessageBadge = document.getElementById('message-badge');
                    if (desktopMessageBadge) {
                        if (data.count > 0) {
                            desktopMessageBadge.textContent = data.count;
                            desktopMessageBadge.style.display = 'inline';
                        } else {
                            desktopMessageBadge.style.display = 'none';
                        }
                    }
                     // 更新移动端角标
                    const mobileMessageBadge = document.getElementById('mobile-message-badge');
                    if (mobileMessageBadge) {
                         if (data.count > 0) {
                            mobileMessageBadge.textContent = data.count;
                            mobileMessageBadge.style.display = 'inline';
                        } else {
                            mobileMessageBadge.style.display = 'none';
                        }
                    }
                })
                .catch(error => console.error('Error fetching message count:', error));
        }

        // 页面加载时检查
        checkUnreadNotifications();
        
        // 每30秒检查一次
        setInterval(checkUnreadNotifications, 30000);
    </script>
    {% endif %}

    <script>
        // 返回顶部按钮
        const backToTopButton = document.getElementById('back-to-top');
        
        window.onscroll = function() {
            if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                backToTopButton.style.display = "flex";
                backToTopButton.style.justifyContent = "center";
                backToTopButton.style.alignItems = "center";
                backToTopButton.classList.add("show"); // 添加show类以启用新的动画效果
            } else {
                backToTopButton.classList.remove("show"); // 移除show类
                setTimeout(() => {
                    if (!backToTopButton.classList.contains("show")) {
                        backToTopButton.style.display = "none";
                    }
                }, 300); // 等待动画完成后隐藏
            }
        };
        
        backToTopButton.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // 页面加载动画
        document.addEventListener('DOMContentLoaded', function() {
            // 添加页面内容淡入效果
            setTimeout(() => {
                document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right').forEach(el => {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                });
            }, 100);
            
            // 为卡片添加延迟动画
            document.querySelectorAll('.card').forEach((card, index) => {
                card.style.animationDelay = (index * 0.1) + 's';
            });
            
            // 平滑滚动到锚点
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const targetId = this.getAttribute('href');
                    if(targetId !== '#') {
                        const targetElement = document.querySelector(targetId);
                        if(targetElement) {
                            e.preventDefault();
                            window.scrollTo({
                                top: targetElement.offsetTop - 100,
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });
            
            // 为下拉菜单添加动画
            const dropdownMenus = document.querySelectorAll('.dropdown-menu');
            dropdownMenus.forEach(menu => {
                menu.style.transition = 'all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1)';
                menu.style.transformOrigin = 'top center';
            });
            
            // 改进导航栏响应式行为
            const navbarToggler = document.querySelector('.navbar-toggler');
            const navbarCollapse = document.querySelector('.navbar-collapse');
            
            if(navbarToggler && navbarCollapse) {
                navbarToggler.addEventListener('click', function() {
                    document.body.classList.toggle('navbar-open');
                });
            }
        });
    </script>
    
    {% block scripts %}{% endblock %}

    <!-- 深色模式检测脚本 -->
    <script>
        // 深色模式默认禁用
        const darkModeEnabled = false;
        
        // 检测系统深色模式但不自动应用
        function detectDarkMode() {
            if (darkModeEnabled && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('prefers-dark-mode');
            } else {
                document.body.classList.remove('prefers-dark-mode');
            }
        }
        
        // 页面加载时检测
        detectDarkMode();
        
        // 监听系统深色模式变化
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            if (darkModeEnabled) {
                if (e.matches) {
                    document.body.classList.add('prefers-dark-mode');
                } else {
                    document.body.classList.remove('prefers-dark-mode');
                }
            }
        });
    </script>

    <!-- 移动端底部导航栏 -->
    <nav class="bottom-nav d-lg-none">
        <a href="{{ url_for('main.index') }}" class="bottom-nav-item {% if request.path == url_for('main.index') %}active{% endif %}">
            <i class="fas fa-home"></i>
            <span>首页</span>
        </a>
        <a href="{{ url_for('heritage.list') }}" class="bottom-nav-item {% if request.path.startswith('/heritage') %}active{% endif %}">
            <i class="fas fa-landmark"></i>
            <span>非遗项目</span>
        </a>
        <a href="{{ url_for('content.list') }}" class="bottom-nav-item {% if request.path.startswith('/content') %}active{% endif %}">
            <i class="fas fa-book-open"></i>
            <span>内容专区</span>
        </a>
        <a href="{{ url_for('forum.index') }}" class="bottom-nav-item {% if request.path.startswith('/forum') %}active{% endif %}">
            <i class="fas fa-comments"></i>
            <span>论坛</span>
        </a>
        {% if current_user.is_authenticated %}
        <a href="{{ url_for('user.profile') }}" class="bottom-nav-item {% if request.path.startswith('/user') or request.path.startswith('/message') or request.path.startswith('/notification') %}active{% endif %}">
            <i class="fas fa-user"></i>
            <span>我的</span>
        </a>
        {% else %}
        <a href="{{ url_for('auth.login') }}" class="bottom-nav-item">
            <i class="fas fa-sign-in-alt"></i>
            <span>登录</span>
        </a>
        {% endif %}
    </nav>

</body>
</html>
